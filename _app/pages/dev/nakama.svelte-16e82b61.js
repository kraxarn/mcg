import{S as x,i as B,s as K,w as h,k as C,x as _,m as P,y as $,g as f,q as d,o as g,B as y,d as i,$ as q,a0 as D,t as m,e as k,h as u,c as v,K as E,a as N,G as b,a1 as R}from"../../chunks/vendor-00bb66e2.js";import{B as S}from"../../chunks/Banner-e8d44772.js";import{P as G}from"../../chunks/Panel-044f45ad.js";function w(l,n,o){const a=l.slice();return a[3]=n[o],a}function j(l){let n=l[3]+"",o,a;return{c(){o=m(n),a=k("br")},l(s){o=u(s,n),a=v(s,"BR",{})},m(s,e){f(s,o,e),f(s,a,e)},p:E,d(s){s&&i(o),s&&i(a)}}}function z(l){let n,o,a,s=l[0],e=[];for(let t=0;t<s.length;t+=1)e[t]=j(w(l,s,t));return{c(){n=k("pre"),o=m("		");for(let t=0;t<e.length;t+=1)e[t].c();a=m(`
	`)},l(t){n=v(t,"PRE",{});var c=N(n);o=u(c,"		");for(let r=0;r<e.length;r+=1)e[r].l(c);a=u(c,`
	`),c.forEach(i)},m(t,c){f(t,n,c),b(n,o);for(let r=0;r<e.length;r+=1)e[r].m(n,null);b(n,a)},p(t,c){if(c&1){s=t[0];let r;for(r=0;r<s.length;r+=1){const p=w(t,s,r);e[r]?e[r].p(p,c):(e[r]=j(p),e[r].c(),e[r].m(n,a))}for(;r<e.length;r+=1)e[r].d(1);e.length=s.length}},d(t){t&&i(n),R(e,t)}}}function A(l){let n,o,a,s;return n=new S({props:{title:"Nakama"}}),a=new G({props:{$$slots:{default:[z]},$$scope:{ctx:l}}}),{c(){h(n.$$.fragment),o=C(),h(a.$$.fragment)},l(e){_(n.$$.fragment,e),o=P(e),_(a.$$.fragment,e)},m(e,t){$(n,e,t),f(e,o,t),$(a,e,t),s=!0},p(e,[t]){const c={};t&64&&(c.$$scope={dirty:t,ctx:e}),a.$set(c)},i(e){s||(d(n.$$.fragment,e),d(a.$$.fragment,e),s=!0)},o(e){g(n.$$.fragment,e),g(a.$$.fragment,e),s=!1},d(e){y(n,e),e&&i(o),y(a,e)}}}const L=async({fetch:l})=>({props:await(await l("/nakama/client")).json()});function F(l,n,o){let{serverKey:a}=n,{host:s}=n,e=[`Connecting to ${s}...`];return(async()=>{try{const t=q(a,s).decrypted,r=await new D(t,s).authenticateDevice("00000000-0000-0000-0000-000000000000",!1);e.push(`Connected: ${r.token}`)}catch(t){e.push(`${t.name}: ${t.message}`)}})().then(()=>e.push("Done")),l.$$set=t=>{"serverKey"in t&&o(1,a=t.serverKey),"host"in t&&o(2,s=t.host)},[e,a,s]}class M extends x{constructor(n){super();B(this,n,F,A,K,{serverKey:1,host:2})}}export{M as default,L as load};
